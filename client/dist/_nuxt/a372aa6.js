(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{302:function(e,t,r){"use strict";r.r(t);r(13),r(143),r(51);var n=r(19),c={middleware:"auth",asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,t.prev=1,t.next=4,r.$get("".concat("https://ecommstore2019.herokuapp.com","/api/addresses"));case 4:if(!(n=t.sent).success){t.next=7;break}return t.abrupt("return",{addresses:n.addresses});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},data:function(){return{message:"",addresses:{}}},methods:{onDeleteAddress:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.$axios.$delete("".concat("https://ecommstore2019.herokuapp.com","/api/addresses/").concat(e));case 3:(c=n.sent).success&&(r.message=c.message,r.addresses.splice(t,1)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r.message=n.t0.message;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},onSetDefault:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$axios.$put("".concat("https://ecommstore2019.herokuapp.com","/api/addresses/set/default"),{id:e});case 3:if(!(n=r.sent).success){r.next=10;break}return t.message=n.message,r.next=8,t.$auth.fetchUser();case 8:return r.next=10,t.$store.dispatch("setLoggedUser");case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),t.message=r.t0.message;case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()}}},o=r(36),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("div",{staticClass:"registerAddress mt-3"},[r("div",{staticClass:"container-fluid c-section"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-2"}),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("div",{staticClass:"a-section a-spacing-medium"},[e._m(0),e._v(" "),r("h1",{staticClass:"a-spacing-medium a-spacing-top-medium"},[e._v("Your Addresses")]),e._v(" "),r("div",{staticClass:"a-section a-spacing-none a-spacing-top-small"},[r("b",[e._v(e._s(e.message))])]),e._v(" "),r("div",{staticClass:"a-spacing-double-large"},[r("div",{staticClass:"row a-spacing-micro"},[r("div",{staticClass:"col-lg-4 col-md-5 col-sm-12 pb-2"},[r("nuxt-link",{staticClass:"a-link-normal add-new-address-button",staticStyle:{"text-decoration":"none"},attrs:{to:"/address/add"}},[r("div",{staticClass:"a-box first-desktop-address-tile"},[r("div",{staticClass:"a-box-inner a-padding-extra-large"},[r("i",{staticClass:"far fa-plus"}),e._v(" "),r("h2",{staticClass:"a-color-tertiary"},[e._v("Add Address")])])])])],1),e._v(" "),e._l(e.addresses,(function(address,t){return r("div",{key:address._id,staticClass:"col-lg-4 col-md-4 col-sm-12 pl-md-0 pb-2"},[r("div",{staticClass:"a-box a-spacing-none normal-desktop-address-tile"},[r("div",{staticClass:"a-box-inner a-padding-none"},[r("div",{staticClass:"address-section-no-default"},[r("div",{staticClass:"a-spacing-small"},[r("ul",{staticClass:"a-unordered-list a-nostyle a-vertical"},[r("li",[r("h5",[r("b",[e._v(e._s(address.fullName))])])]),e._v(" "),r("li",[e._v(e._s(address.streetAddress))]),e._v(" "),r("li",[e._v(e._s(address.city)+", "+e._s(address.state)+" "+e._s(address.zipCode))]),e._v(" "),r("li",[e._v(e._s(address.country))]),e._v(" "),r("li",[e._v("Phone number: "+e._s(address.phoneNumber))])])])])]),e._v(" "),r("div",{staticClass:"edit-address-desktop-link"},[r("nuxt-link",{attrs:{to:"/address/"+address._id}},[e._v("Edit")]),e._v("\n                        |  \n                       "),e._v(" "),r("a",{attrs:{href:"#"},on:{click:function(r){return e.onDeleteAddress(address._id,t)}}},[e._v("Delete")]),e._v("\n                        |  \n                      "),e._v(" "),r("a",{attrs:{href:"#"},on:{click:function(t){return e.onSetDefault(address._id)}}},[e._v("Set as Default")])],1)])])})),e._v(" "),r("div",{staticClass:"col-lg-4 col-md-3 col-sm-12"})],2)])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"a-subheader a-breadcrumb a-spacing-small"},[t("ul",[t("li",[t("a",{attrs:{href:"#"}},[t("span",[this._v("Your Account")])])]),this._v(" "),t("li",{staticClass:"a-breadcrumb-divider"},[this._v("›")]),this._v(" "),t("li",{staticClass:"active"},[t("a",{attrs:{href:"#"}},[t("span",[this._v("Your Adresses")])])])])])}],!1,null,null,null);t.default=component.exports}}]);